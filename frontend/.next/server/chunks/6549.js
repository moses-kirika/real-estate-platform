exports.id=6549,exports.ids=[6549],exports.modules={34032:(e,t,r)=>{let a={"0eb3e6ea3cea093b3dee3a697fc793b554304b77":()=>Promise.resolve().then(r.bind(r,42262)).then(e=>e.register),bcdd3597cdaf7fd331e1f2c845bd1057a22095ed:()=>Promise.resolve().then(r.bind(r,42262)).then(e=>e.authenticate),db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e:()=>Promise.resolve().then(r.bind(r,42262)).then(e=>e.signOutAction)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"0eb3e6ea3cea093b3dee3a697fc793b554304b77":s.bind(null,"0eb3e6ea3cea093b3dee3a697fc793b554304b77"),bcdd3597cdaf7fd331e1f2c845bd1057a22095ed:s.bind(null,"bcdd3597cdaf7fd331e1f2c845bd1057a22095ed"),db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e:s.bind(null,"db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e")}},55359:(e,t,r)=>{Promise.resolve().then(r.bind(r,4410)),Promise.resolve().then(r.t.bind(r,50696,23))},18113:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,33817,23)),Promise.resolve().then(r.t.bind(r,19323,23)),Promise.resolve().then(r.t.bind(r,52204,23)),Promise.resolve().then(r.t.bind(r,60820,23)),Promise.resolve().then(r.t.bind(r,55915,23)),Promise.resolve().then(r.t.bind(r,81611,23))},16045:()=>{},4410:(e,t,r)=>{"use strict";r.d(t,{Ei:()=>g,Sheet:()=>d,SheetContent:()=>h,SheetHeader:()=>x,SheetTitle:()=>p,SheetTrigger:()=>c});var a=r(19899),s=r(5507),i=r(43836),n=r(51138),o=r(48449),l=r(66409);let d=i.fC,c=i.xz;i.x8;let m=i.h_,f=s.forwardRef(({className:e,...t},r)=>a.jsx(i.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));f.displayName=i.aV.displayName;let u=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"top-0 left-0 right-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"bottom-0 left-0 right-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"top-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"top-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=s.forwardRef(({side:e="right",className:t,children:r,...s},n)=>(0,a.jsxs)(m,{children:[a.jsx(f,{}),(0,a.jsxs)(i.VY,{ref:n,className:(0,l.cn)(u({side:e}),t),...s,children:[r,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(o.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=i.VY.displayName;let x=({className:e,...t})=>a.jsx("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});x.displayName="SheetHeader";let p=s.forwardRef(({className:e,...t},r)=>a.jsx(i.Dx,{ref:r,className:(0,l.cn)("text-lg font-semibold text-foreground",e),...t}));p.displayName=i.Dx.displayName;let g=s.forwardRef(({className:e,...t},r)=>a.jsx(i.dk,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=i.dk.displayName},66409:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i,x:()=>n});var a=r(23332),s=r(54231);function i(...e){return(0,s.m6)((0,a.W)(e))}function n(e){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",maximumFractionDigits:0}).format(e)}},42262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{authenticate:()=>f,register:()=>u,signOutAction:()=>h});var a=r(78453);r(46433);var s=r(72783),i=r(40061),n=r(53524),o=r(16284),l=r(36350),d=r(95660);let c=new n.PrismaClient,m=l.Ryn({email:l.Z_8().email(),password:l.Z_8().min(6),name:l.Z_8().min(2),phone:l.Z_8().optional(),company:l.Z_8().optional(),licenseNumber:l.Z_8().optional(),address:l.Z_8().optional(),idNumber:l.Z_8().optional()});async function f(e,t){try{await (0,s.zB)("credentials",{...Object.fromEntries(t),redirectTo:"/"})}catch(e){if(e&&"object"==typeof e&&"digest"in e&&"string"==typeof e.digest&&e.digest.includes("NEXT_REDIRECT"))throw e;if(e instanceof i.l4){if("CredentialsSignin"===e.type)return"Invalid credentials.";return"Something went wrong."}return"Internal server error."}}async function u(e,t){let r=m.safeParse(Object.fromEntries(t));if(!r.success)return"Invalid fields";let{email:a,password:s,name:i}=r.data,n=t.get("role")||"USER";try{if(await c.user.findUnique({where:{email:a}}))return"User already exists.";let e=await o.ZP.hash(s,10);return await c.user.create({data:{email:a,name:i,password:e,role:n,phone:t.get("phone")||void 0,company:t.get("company")||void 0,licenseNumber:t.get("licenseNumber")||void 0,address:t.get("address")||void 0,idNumber:t.get("idNumber")||void 0}}),"Success"}catch(e){return console.error(e),"Failed to create user."}}async function h(){await (0,s.w7)()}(0,d.h)([f,u,h]),(0,a.j)("bcdd3597cdaf7fd331e1f2c845bd1057a22095ed",f),(0,a.j)("0eb3e6ea3cea093b3dee3a697fc793b554304b77",u),(0,a.j)("db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e",h)},72783:(e,t,r)=>{"use strict";r.d(t,{I8:()=>d,zB:()=>c,w7:()=>m});var a=r(40061),s=r(16440),i=r(36350),n=r(20),o=r(16284),l=r(9620);let{auth:d,signIn:c,signOut:m,handlers:f}=(0,a.ZP)({pages:{signIn:"/auth/login"},providers:[],callbacks:{authorized({auth:e,request:{nextUrl:t}}){let r=!!e?.user;return!t.pathname.startsWith("/dashboard")||!!r}},trustHost:!0,adapter:(0,n.N)(l.db),session:{strategy:"jwt"},callbacks:{session:async({token:e,session:t})=>(e.sub&&t.user&&(t.user.id=e.sub),e.role&&t.user&&(t.user.role=e.role),t),async jwt({token:e}){if(!e.sub)return e;let t=await l.db.user.findUnique({where:{id:e.sub}});return t&&(e.role=t.role),e}},providers:[(0,s.Z)({async authorize(e){let t=i.Ryn({email:i.Z_8().email(),password:i.Z_8().min(6)}).safeParse(e);if(t.success){let{email:e,password:r}=t.data,a=await l.db.user.findUnique({where:{email:e}});if(!a||!a.password)return null;if(await o.ZP.compare(r,a.password))return a}return null}})]})},9620:(e,t,r)=>{"use strict";r.d(t,{db:()=>s});var a=r(53524);let s=globalThis.prisma||new a.PrismaClient},97911:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(35023),s=r(10682),i=r(72783),n=r(43722),o=r(32539),l=r(66473),d=r(64277);let c=(0,d.Z)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var m=r(74658);let f=(0,d.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var u=r(2772);let h=(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#Sheet`);(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetPortal`),(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetOverlay`);let x=(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetTrigger`);(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetClose`);let p=(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetContent`),g=(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetHeader`);(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetFooter`);let b=(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetTitle`);(0,u.createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\ui\sheet.tsx#SheetDescription`);var y=r(42262);async function v(){let e=await (0,i.I8)(),t=e?.user,r=[{href:"/properties",label:"Properties",icon:o.Z},{href:"/agents",label:"Agents",icon:l.Z}];return a.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container mx-auto flex h-16 items-center px-4",children:[a.jsx("div",{className:"lg:hidden mr-2",children:(0,a.jsxs)(h,{children:[a.jsx(x,{asChild:!0,children:a.jsx(n.z,{variant:"ghost",size:"icon",className:"text-foreground/80",children:a.jsx(c,{className:"h-6 w-6"})})}),(0,a.jsxs)(p,{side:"left",className:"w-[300px] sm:w-[400px]",children:[a.jsx(g,{className:"mb-8 text-left",children:(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-primary text-primary-foreground p-1.5 rounded-lg",children:a.jsx(m.Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"font-serif text-2xl font-bold text-primary",children:"Rafiki"})]})}),(0,a.jsxs)("nav",{className:"flex flex-col gap-4",children:[r.map(e=>(0,a.jsxs)(s.default,{href:e.href,className:"flex items-center gap-4 px-4 py-3 rounded-xl text-lg font-medium text-foreground/80 hover:text-primary hover:bg-primary/5 transition-all",children:[a.jsx(e.icon,{className:"h-5 w-5"}),e.label]},e.href)),a.jsx("div",{className:"h-px bg-zinc-100 my-4"}),(0,a.jsxs)(s.default,{href:"/auth/register-agent",className:"flex items-center gap-4 px-4 py-3 rounded-xl text-lg font-medium text-secondary hover:bg-secondary/5 transition-all",children:[a.jsx(o.Z,{className:"h-5 w-5"}),"List Your Property"]})]})]})]})}),(0,a.jsxs)(s.default,{href:"/",className:"mr-6 flex items-center space-x-2",children:[a.jsx("div",{className:"bg-primary text-primary-foreground p-1.5 rounded-lg",children:a.jsx(m.Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"hidden font-serif text-xl font-bold tracking-tight sm:inline-block",children:"Rafiki"})]}),a.jsx("nav",{className:"hidden lg:flex items-center space-x-2 text-sm font-medium",children:r.map(e=>(0,a.jsxs)(s.default,{href:e.href,className:"flex items-center gap-2 px-4 py-2 rounded-full text-foreground/80 hover:text-primary hover:bg-primary/10 transition-all duration-300",children:[a.jsx(e.icon,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.href))}),a.jsx("div",{className:"ml-auto flex items-center space-x-4",children:t?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(s.default,{href:"AGENT"===t.role?"/agent":"ADMIN"===t.role?"/admin":"/dashboard",className:"inline-flex items-center justify-center h-10 w-10 rounded-full bg-primary text-primary-foreground shadow-md hover:scale-105 hover:bg-primary/90 transition-all duration-300 ring-2 ring-primary/20",title:"AGENT"===t.role||"ADMIN"===t.role?"Dashboard":"My Profile",children:a.jsx(f,{className:"h-5 w-5"})}),a.jsx("form",{action:y.signOutAction,children:a.jsx(n.z,{variant:"outline",size:"sm",className:"hidden sm:inline-flex border-primary/20 text-primary hover:bg-primary hover:text-primary-foreground transition-colors font-medium ml-2",children:"Sign Out"})})]}):a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(n.z,{size:"sm",asChild:!0,className:"rounded-full px-6",children:a.jsx(s.default,{href:"/auth/login",children:"Log In"})})})})]})})}function j(){return a.jsx("footer",{className:"bg-zinc-50 border-t py-12",children:a.jsx("div",{className:"container px-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8 text-center md:text-left",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(s.default,{href:"/",className:"flex items-center justify-center md:justify-start space-x-2",children:[a.jsx("div",{className:"bg-primary text-primary-foreground p-1.5 rounded-lg",children:a.jsx(m.Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"font-serif text-2xl font-bold tracking-tight text-primary",children:"Rafiki"})]}),a.jsx("p",{className:"text-zinc-500 text-sm max-w-xs",children:"Your trusted partner in Kenyan real estate. Verified listings, local expertise, zero shortcuts."})]}),(0,a.jsxs)("div",{className:"flex gap-8 text-sm font-medium text-zinc-600",children:[a.jsx(s.default,{href:"/properties",className:"hover:text-primary transition-colors",children:"Properties"}),a.jsx(s.default,{href:"/agents",className:"hover:text-primary transition-colors",children:"Agents"}),a.jsx(s.default,{href:"/auth/register-agent",className:"hover:text-primary transition-colors",children:"List with Us"})]}),(0,a.jsxs)("p",{className:"text-zinc-400 text-xs",children:["\xa9 ",new Date().getFullYear()," Rafiki Real Estate Limited. All rights reserved."]})]})})})}function N({children:e}){return(0,a.jsxs)(a.Fragment,{children:[a.jsx(v,{}),a.jsx("main",{className:"flex-grow",children:e}),a.jsx(j,{})]})}},41163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var a=r(35023),s=r(45010),i=r.n(s),n=r(77749),o=r.n(n);r(40642);let l={title:"Rafiki Real Estate | Trusted Kenyan Property Partner",description:"Discover verified listings, expert local guidance, and your perfect sanctuary in Kenya's best neighborhoods."};function d({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${i().variable} ${o().variable} font-sans antialiased`,children:a.jsx("main",{className:"flex-1",children:e})})})}},43722:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var a=r(35023),s=r(58003),i=r(62866),n=r(50220),o=r(24960);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},d)=>{let c=s?i.g7:"button";return a.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},24960:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i,x:()=>n});var a=r(23779),s=r(45365);function i(...e){return(0,s.m6)((0,a.W)(e))}function n(e){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",maximumFractionDigits:0}).format(e)}},32539:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(64277).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},66473:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(64277).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},97418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(1645);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},40642:()=>{}};