exports.id=995,exports.ids=[995],exports.modules={50656:(e,r,s)=>{Promise.resolve().then(s.bind(s,36640)),Promise.resolve().then(s.t.bind(s,50696,23))},18113:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,33817,23)),Promise.resolve().then(s.t.bind(s,19323,23)),Promise.resolve().then(s.t.bind(s,52204,23)),Promise.resolve().then(s.t.bind(s,60820,23)),Promise.resolve().then(s.t.bind(s,55915,23)),Promise.resolve().then(s.t.bind(s,81611,23))},16045:()=>{},6078:(e,r,s)=>{"use strict";s.d(r,{NH:()=>a,YR:()=>i,z2:()=>n}),s(89603);var t=s(46351),a=(0,t.$)("db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e"),i=(0,t.$)("bcdd3597cdaf7fd331e1f2c845bd1057a22095ed"),n=(0,t.$)("0eb3e6ea3cea093b3dee3a697fc793b554304b77")},36640:(e,r,s)=>{"use strict";s.d(r,{Sidebar:()=>x});var t=s(19899),a=s(54175),i=s(76153),n=s(66409),l=s(27241),d=s(44941),o=s(6761),c=s(98776),u=s(89205),m=s(1614),h=s(50177),f=s(26437),b=s(77282),p=s(6078);function x({className:e,role:r}){let s=(0,i.usePathname)(),x=[{label:"Overview",icon:d.Z,href:"/dashboard",color:"text-primary"}],v=[{label:"Overview",icon:d.Z,href:"/agent",color:"text-primary"},{label:"My Listings",icon:o.Z,href:"/agent/properties",color:"text-secondary"},{label:"Inquiries (Received)",icon:c.Z,href:"/agent/inquiries",color:"text-emerald-600"},{label:"Analytics",icon:u.Z,href:"/agent/analytics",color:"text-primary"}];return t.jsx("div",{className:(0,n.cn)("pb-12 space-y-4",e),children:(0,t.jsxs)("div",{className:"px-3 py-2",children:[t.jsx("h2",{className:"mb-2 px-4 text-lg font-serif font-bold tracking-tight text-primary",children:"Dashboard"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(!r||"AGENT"!==r&&"ADMIN"!==r)&&x.map(e=>t.jsx(l.z,{variant:s===e.href?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(a.default,{href:e.href,children:[t.jsx(e.icon,{className:(0,n.cn)("h-5 w-5 mr-3",e.color)}),e.label]})},e.href)),"AGENT"===r&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"px-4 py-2 mt-4 text-xs font-semibold text-muted-foreground tracking-wider uppercase",children:"Agent Panel"}),v.map(e=>t.jsx(l.z,{variant:s===e.href?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(a.default,{href:e.href,children:[t.jsx(e.icon,{className:(0,n.cn)("h-5 w-5 mr-3",e.color)}),e.label]})},e.href))]}),"ADMIN"===r&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"px-4 py-2 mt-4 text-xs font-semibold text-muted-foreground tracking-wider uppercase",children:"Administration"}),t.jsx(l.z,{variant:"/admin"===s?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/admin",children:[t.jsx(d.Z,{className:"h-5 w-5 mr-3"}),"Analytics"]})}),t.jsx(l.z,{variant:"/admin/users"===s?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/admin/users",children:[t.jsx(m.Z,{className:"h-5 w-5 mr-3"}),"Users"]})}),t.jsx(l.z,{variant:"/admin/properties"===s?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/admin/properties",children:[t.jsx(o.Z,{className:"h-5 w-5 mr-3"}),"Properties"]})}),t.jsx(l.z,{variant:"/admin/content"===s?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/admin/content",children:[t.jsx(h.Z,{className:"h-5 w-5 mr-3"}),"Content"]})})]}),(0,t.jsxs)("div",{className:"pt-4 mt-4 border-t",children:[t.jsx(l.z,{variant:"/dashboard/settings"===s?"secondary":"ghost",className:"w-full justify-start text-zinc-500 hover:text-zinc-900",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/dashboard/settings",children:[t.jsx(f.Z,{className:"h-5 w-5 mr-3"}),"Settings"]})}),t.jsx("form",{action:p.NH,className:"mt-1",children:(0,t.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start text-zinc-500 hover:text-red-600 hover:bg-red-50",type:"submit",children:[t.jsx(b.Z,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]})]})]})})}},27241:(e,r,s)=>{"use strict";s.d(r,{d:()=>d,z:()=>o});var t=s(19899),a=s(5507),i=s(74036),n=s(51138),l=s(66409);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},o)=>{let c=a?i.g7:"button";return t.jsx(c,{className:(0,l.cn)(d({variant:r,size:s,className:e})),ref:o,...n})});o.displayName="Button"},66409:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i,x:()=>n});var t=s(23332),a=s(54231);function i(...e){return(0,a.m6)((0,t.W)(e))}function n(e){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",maximumFractionDigits:0}).format(e)}},72223:(e,r,s)=>{"use strict";s.r(r),s.d(r,{authenticate:()=>m,register:()=>h,signOutAction:()=>f});var t=s(3626);s(40425);var a=s(70906),i=s(20936),n=s(53524),l=s(47344),d=s(29754),o=s(12740);let c=new n.PrismaClient,u=d.Ryn({email:d.Z_8().email(),password:d.Z_8().min(6),name:d.Z_8().min(2),phone:d.Z_8().optional(),company:d.Z_8().optional(),licenseNumber:d.Z_8().optional(),address:d.Z_8().optional(),idNumber:d.Z_8().optional()});async function m(e,r){try{await (0,a.zB)("credentials",{...Object.fromEntries(r),redirectTo:"/"})}catch(e){if(e&&"object"==typeof e&&"digest"in e&&"string"==typeof e.digest&&e.digest.includes("NEXT_REDIRECT"))throw e;if(e instanceof i.l4){if("CredentialsSignin"===e.type)return"Invalid credentials.";return"Something went wrong."}return"Internal server error."}}async function h(e,r){let s=u.safeParse(Object.fromEntries(r));if(!s.success)return"Invalid fields";let{email:t,password:a,name:i}=s.data,n=r.get("role")||"USER";try{if(await c.user.findUnique({where:{email:t}}))return"User already exists.";let e=await l.ZP.hash(a,10);return await c.user.create({data:{email:t,name:i,password:e,role:n,phone:r.get("phone")||void 0,company:r.get("company")||void 0,licenseNumber:r.get("licenseNumber")||void 0,address:r.get("address")||void 0,idNumber:r.get("idNumber")||void 0}}),"Success"}catch(e){return console.error(e),"Failed to create user."}}async function f(){await (0,a.w7)()}(0,o.h)([m,h,f]),(0,t.j)("bcdd3597cdaf7fd331e1f2c845bd1057a22095ed",m),(0,t.j)("0eb3e6ea3cea093b3dee3a697fc793b554304b77",h),(0,t.j)("db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e",f)},70906:(e,r,s)=>{"use strict";s.d(r,{I8:()=>c,zB:()=>u,w7:()=>m});var t=s(20936);let a={pages:{signIn:"/auth/login"},secret:process.env.AUTH_SECRET,providers:[],callbacks:{authorized({auth:e,request:{nextUrl:r}}){let s=!!e?.user;return!r.pathname.startsWith("/dashboard")||!!s}}};var i=s(45706),n=s(29754),l=s(62917),d=s(47344),o=s(8634);let{auth:c,signIn:u,signOut:m,handlers:h}=(0,t.ZP)({...a,trustHost:!0,adapter:(0,l.N)(o.db),session:{strategy:"jwt"},callbacks:{session:async({token:e,session:r})=>(e.sub&&r.user&&(r.user.id=e.sub),e.role&&r.user&&(r.user.role=e.role),r),async jwt({token:e}){if(!e.sub)return e;let r=await o.db.user.findUnique({where:{id:e.sub}});return r&&(e.role=r.role),e}},providers:[(0,i.Z)({async authorize(e){let r=n.Ryn({email:n.Z_8().email(),password:n.Z_8().min(6)}).safeParse(e);if(r.success){let{email:e,password:s}=r.data,t=await o.db.user.findUnique({where:{email:e}});if(!t||!t.password)return null;if(await d.ZP.compare(s,t.password))return t}return null}})]})},72783:(e,r,s)=>{"use strict";s.d(r,{I8:()=>c,zB:()=>u,w7:()=>m});var t=s(40061);let a={pages:{signIn:"/auth/login"},secret:process.env.AUTH_SECRET,providers:[],callbacks:{authorized({auth:e,request:{nextUrl:r}}){let s=!!e?.user;return!r.pathname.startsWith("/dashboard")||!!s}}};var i=s(16440),n=s(36350),l=s(20),d=s(16284),o=s(9620);let{auth:c,signIn:u,signOut:m,handlers:h}=(0,t.ZP)({...a,trustHost:!0,adapter:(0,l.N)(o.db),session:{strategy:"jwt"},callbacks:{session:async({token:e,session:r})=>(e.sub&&r.user&&(r.user.id=e.sub),e.role&&r.user&&(r.user.role=e.role),r),async jwt({token:e}){if(!e.sub)return e;let r=await o.db.user.findUnique({where:{id:e.sub}});return r&&(e.role=r.role),e}},providers:[(0,i.Z)({async authorize(e){let r=n.Ryn({email:n.Z_8().email(),password:n.Z_8().min(6)}).safeParse(e);if(r.success){let{email:e,password:s}=r.data,t=await o.db.user.findUnique({where:{email:e}});if(!t||!t.password)return null;if(await d.ZP.compare(s,t.password))return t}return null}})]})},8634:(e,r,s)=>{"use strict";s.d(r,{db:()=>a});var t=s(53524);let a=globalThis.prisma||new t.PrismaClient},9620:(e,r,s)=>{"use strict";s.d(r,{db:()=>a});var t=s(53524);let a=globalThis.prisma||new t.PrismaClient},10578:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d});var t=s(35023),a=s(10682);let i=(0,s(2772).createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\dashboard\sidebar.tsx#Sidebar`);var n=s(72783),l=s(92588);async function d({children:e}){let r=await (0,n.I8)();return r||(0,l.redirect)("/auth/login"),(0,t.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[t.jsx("div",{className:"hidden h-full md:flex md:w-72 md:flex-col md:fixed md:inset-y-0 z-80 bg-white border-r border-zinc-200",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2 mb-6 group",children:[t.jsx("div",{className:"bg-primary text-primary-foreground p-1.5 rounded-lg group-hover:scale-105 transition-transform",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),t.jsx("span",{className:"font-serif text-2xl font-bold tracking-tight text-primary",children:"Rafiki"})]}),t.jsx(i,{role:r?.user?.role})]})}),t.jsx("main",{className:"md:pl-72 flex-1 overflow-y-auto",children:t.jsx("div",{className:"p-8",children:e})})]})}},41163:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o,metadata:()=>d});var t=s(35023),a=s(45010),i=s.n(a),n=s(77749),l=s.n(n);s(40642);let d={title:"Rafiki Real Estate | Trusted Kenyan Property Partner",description:"Discover verified listings, expert local guidance, and your perfect sanctuary in Kenya's best neighborhoods."};function o({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:`${i().variable} ${l().variable} font-sans antialiased`,children:t.jsx("main",{className:"flex-1",children:e})})})}},97418:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(1645);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},40642:()=>{}};