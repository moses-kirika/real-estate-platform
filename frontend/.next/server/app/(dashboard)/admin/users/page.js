(()=>{var e={};e.id=1792,e.ids=[1792],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},29679:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>d.a,__next_app__:()=>f,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(15195),t(10578),t(12874),t(41163);var r=t(27105),s=t(15265),i=t(90157),d=t.n(i),n=t(44665),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(a,l);let o=["",{children:["(dashboard)",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,15195)),"C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\(dashboard)\\admin\\users\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,10578)),"C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,12874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,97418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,41163)),"C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,12874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,97418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\(dashboard)\\admin\\users\\page.tsx"],m="/(dashboard)/admin/users/page",f={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},86957:(e,a,t)=>{let r={"49a79cdee46258040e333c3c94d3b98ad6d84cd9":()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.deleteUserAction),"583fb38722b03770a66cd8a097c44bec822defb9":()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.updateUserEmailAction),"6e6a8bcd006c6bc42066b1797d11a215d311dce6":()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.createTestimonialAction),a0623fc521458e3e267386394fe27dff5528ac07:()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.unverifyUserAction),b40a8ef9c96b1ea81590e93b264ce82cbd4d98fa:()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.verifyUserAction),e12a37d541cada668b622b1bb3a5cec0480c01b2:()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.deletePropertyAction),fb1d01e335233318b8b3fc0b58d6318cc7cc2e21:()=>Promise.resolve().then(t.bind(t,22693)).then(e=>e.deleteTestimonialAction),"0eb3e6ea3cea093b3dee3a697fc793b554304b77":()=>Promise.resolve().then(t.bind(t,72223)).then(e=>e.register),bcdd3597cdaf7fd331e1f2c845bd1057a22095ed:()=>Promise.resolve().then(t.bind(t,72223)).then(e=>e.authenticate),db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e:()=>Promise.resolve().then(t.bind(t,72223)).then(e=>e.signOutAction)};async function s(e,...a){return(await r[e]()).apply(null,a)}e.exports={"49a79cdee46258040e333c3c94d3b98ad6d84cd9":s.bind(null,"49a79cdee46258040e333c3c94d3b98ad6d84cd9"),"583fb38722b03770a66cd8a097c44bec822defb9":s.bind(null,"583fb38722b03770a66cd8a097c44bec822defb9"),"6e6a8bcd006c6bc42066b1797d11a215d311dce6":s.bind(null,"6e6a8bcd006c6bc42066b1797d11a215d311dce6"),a0623fc521458e3e267386394fe27dff5528ac07:s.bind(null,"a0623fc521458e3e267386394fe27dff5528ac07"),b40a8ef9c96b1ea81590e93b264ce82cbd4d98fa:s.bind(null,"b40a8ef9c96b1ea81590e93b264ce82cbd4d98fa"),e12a37d541cada668b622b1bb3a5cec0480c01b2:s.bind(null,"e12a37d541cada668b622b1bb3a5cec0480c01b2"),fb1d01e335233318b8b3fc0b58d6318cc7cc2e21:s.bind(null,"fb1d01e335233318b8b3fc0b58d6318cc7cc2e21"),"0eb3e6ea3cea093b3dee3a697fc793b554304b77":s.bind(null,"0eb3e6ea3cea093b3dee3a697fc793b554304b77"),bcdd3597cdaf7fd331e1f2c845bd1057a22095ed:s.bind(null,"bcdd3597cdaf7fd331e1f2c845bd1057a22095ed"),db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e:s.bind(null,"db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e")}},50077:(e,a,t)=>{Promise.resolve().then(t.bind(t,38002))},38002:(e,a,t)=>{"use strict";t.d(a,{UserManagement:()=>T});var r=t(19899),s=t(5507),i=t(66994),d=t(66409);let n=s.forwardRef(({className:e,...a},t)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:t,className:(0,d.cn)("w-full caption-bottom text-sm",e),...a})}));n.displayName="Table";let l=s.forwardRef(({className:e,...a},t)=>r.jsx("thead",{ref:t,className:(0,d.cn)("[&_tr]:border-b",e),...a}));l.displayName="TableHeader";let o=s.forwardRef(({className:e,...a},t)=>r.jsx("tbody",{ref:t,className:(0,d.cn)("[&_tr:last-child]:border-0",e),...a}));o.displayName="TableBody",s.forwardRef(({className:e,...a},t)=>r.jsx("tfoot",{ref:t,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let c=s.forwardRef(({className:e,...a},t)=>r.jsx("tr",{ref:t,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));c.displayName="TableRow";let m=s.forwardRef(({className:e,...a},t)=>r.jsx("th",{ref:t,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));m.displayName="TableHead";let f=s.forwardRef(({className:e,...a},t)=>r.jsx("td",{ref:t,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));f.displayName="TableCell",s.forwardRef(({className:e,...a},t)=>r.jsx("caption",{ref:t,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption";var u=t(27241),b=t(16711),h=t(88455),x=t(21775),p=t(6523),g=t(35921),v=t(61278);let y=(0,v.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),j=(0,v.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),N=(0,v.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),w=(0,v.Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),A=(0,v.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);t(89603);var k=t(46351),P=(0,k.$)("583fb38722b03770a66cd8a097c44bec822defb9"),z=(0,k.$)("b40a8ef9c96b1ea81590e93b264ce82cbd4d98fa"),D=(0,k.$)("a0623fc521458e3e267386394fe27dff5528ac07"),C=(0,k.$)("49a79cdee46258040e333c3c94d3b98ad6d84cd9");function T({users:e}){let[a,t]=(0,s.useState)(null),[d,n]=(0,s.useState)(!1),[l,o]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),f=e.filter(e=>"AGENT"===e.role),v=e.filter(e=>"AGENT"!==e.role);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(i.Tabs,{defaultValue:"users",className:"w-full",children:[(0,r.jsxs)(i.TabsList,{className:"bg-muted p-1 rounded-xl mb-6 w-full md:w-auto inline-flex",children:[(0,r.jsxs)(i.TabsTrigger,{value:"users",className:"px-6 rounded-lg data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["All Users (",v.length,")"]}),(0,r.jsxs)(i.TabsTrigger,{value:"agents",className:"px-6 rounded-lg data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["Agents (",f.length,")"]})]}),r.jsx(i.TabsContent,{value:"users",children:r.jsx(U,{users:v,onEditEmail:e=>{t(e),n(!0)},showRole:!0})}),r.jsx(i.TabsContent,{value:"agents",children:r.jsx(U,{users:f,onEditEmail:e=>{t(e),n(!0)},onViewDetails:e=>{o(e),m(!0)},showVerification:!0})})]}),r.jsx(x.Dialog,{open:d,onOpenChange:n,children:(0,r.jsxs)(x.DialogContent,{children:[r.jsx(x.DialogHeader,{children:r.jsx(x.DialogTitle,{children:"Update Email Address"})}),a&&(0,r.jsxs)("form",{action:async e=>{await P(e),n(!1)},className:"space-y-4 py-4",children:[r.jsx("input",{type:"hidden",name:"userId",value:a.id}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h.Label,{htmlFor:"email",children:["New Email Address for ",a.name]}),r.jsx(b.I,{id:"email",name:"email",type:"email",defaultValue:a.email,required:!0})]}),r.jsx(u.z,{type:"submit",className:"w-full",children:"Save Changes"})]})]})}),r.jsx(x.Dialog,{open:c,onOpenChange:m,children:(0,r.jsxs)(x.DialogContent,{className:"max-w-md",children:[r.jsx(x.DialogHeader,{children:(0,r.jsxs)(x.DialogTitle,{children:["Agent Details: ",l?.name]})}),l&&(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Company/Agency"}),r.jsx("p",{className:"font-medium text-foreground",children:l.company||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"License Number"}),r.jsx("p",{className:"font-medium text-foreground",children:l.licenseNumber||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Phone Number"}),r.jsx("p",{className:"font-medium text-foreground",children:l.phone||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"ID Number"}),r.jsx("p",{className:"font-medium text-foreground",children:l.idNumber||"Not provided"})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[r.jsx("h4",{className:"font-semibold text-muted-foreground mb-1",children:"Address"}),r.jsx("p",{className:"font-medium text-foreground",children:l.address||"Not provided"})]}),"AGENT"===l.role&&(0,r.jsxs)("div",{className:"col-span-2 pt-4 border-t",children:[(0,r.jsxs)("h4",{className:"font-semibold text-muted-foreground mb-2",children:["Listed Properties (",l.properties?.length||0,")"]}),l.properties&&l.properties.length>0?r.jsx("ul",{className:"space-y-1 max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:l.properties.map(e=>r.jsx("li",{className:"text-sm py-1 border-b border-zinc-100 last:border-0",children:e.title},e.id))}):r.jsx("p",{className:"text-sm text-zinc-500 italic",children:"No properties listed yet."})]})]}),r.jsx("div",{className:"pt-4 border-t flex justify-end",children:l.verifiedAt?(0,r.jsxs)(p.C,{variant:"outline",className:"bg-emerald-50 text-emerald-600 border-emerald-200 gap-1 px-3 py-1",children:[r.jsx(g.Z,{className:"h-4 w-4"}),"Verified Agent"]}):r.jsx(p.C,{variant:"outline",className:"text-zinc-500 gap-1 px-3 py-1",children:"Verification Pending"})})]})]})})]})}function U({users:e,onEditEmail:a,onViewDetails:t,showRole:s=!1,showVerification:i=!1}){return r.jsx("div",{className:"border rounded-xl bg-white shadow-sm overflow-hidden",children:(0,r.jsxs)(n,{children:[r.jsx(l,{children:(0,r.jsxs)(c,{className:"bg-zinc-50/50 hover:bg-zinc-50/50",children:[r.jsx(m,{children:"Name"}),r.jsx(m,{children:"Email"}),s&&r.jsx(m,{children:"Role"}),i&&r.jsx(m,{children:"Properties"}),i&&r.jsx(m,{children:"Verification"}),r.jsx(m,{children:"Joined"}),r.jsx(m,{className:"text-right",children:"Actions"})]})}),(0,r.jsxs)(o,{children:[e.map(e=>(0,r.jsxs)(c,{className:"hover:bg-zinc-50/50 transition-colors",children:[r.jsx(f,{className:"font-medium",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary text-xs font-bold",children:e.name?.charAt(0).toUpperCase()||"U"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("span",{children:e.name||"Unnamed"}),t&&r.jsx("button",{onClick:()=>t(e),className:"text-xs text-primary hover:underline text-left md:hidden mt-0.5",children:"View Details"})]})]})}),r.jsx(f,{children:e.email}),s&&r.jsx(f,{children:r.jsx(p.C,{variant:"ADMIN"===e.role?"default":"secondary",children:e.role})}),i&&r.jsx(f,{children:r.jsx(p.C,{variant:"outline",className:"font-medium",children:e.properties?.length||0})}),i&&r.jsx(f,{children:e.verifiedAt?(0,r.jsxs)(p.C,{variant:"outline",className:"bg-emerald-50 text-emerald-600 border-emerald-200 gap-1",children:[r.jsx(g.Z,{className:"h-3 w-3"}),"Verified"]}):r.jsx(p.C,{variant:"outline",className:"text-zinc-500 gap-1",children:"Unverified"})}),r.jsx(f,{children:new Date(e.createdAt).toLocaleDateString()}),r.jsx(f,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[i&&t&&r.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"text-primary hover:text-primary hover:bg-primary/10 hidden md:inline-flex",title:"View Agent Details",children:r.jsx(y,{className:"h-4 w-4"})}),i&&r.jsx("form",{action:e.verifiedAt?D.bind(null,e.id):z.bind(null,e.id),children:r.jsx(u.z,{variant:"ghost",size:"sm",className:e.verifiedAt?"text-amber-600 hover:text-amber-700 hover:bg-amber-50":"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",title:e.verifiedAt?"Revoke Verification":"Verify Agent",children:e.verifiedAt?r.jsx(j,{className:"h-4 w-4"}):r.jsx(N,{className:"h-4 w-4"})})}),r.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>a(e),className:"text-zinc-500 hover:text-primary hover:bg-primary/10",title:"Edit Email",children:r.jsx(w,{className:"h-4 w-4"})}),r.jsx("form",{action:C.bind(null,e.id),children:r.jsx(u.z,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Delete User",children:r.jsx(A,{className:"h-4 w-4"})})})]})})]},e.id)),0===e.length&&r.jsx(c,{children:r.jsx(f,{colSpan:i?7:6,className:"text-center py-12 text-muted-foreground",children:"No users found in this category."})})]})]})})}(0,k.$)("e12a37d541cada668b622b1bb3a5cec0480c01b2"),(0,k.$)("6e6a8bcd006c6bc42066b1797d11a215d311dce6"),(0,k.$)("fb1d01e335233318b8b3fc0b58d6318cc7cc2e21")},6523:(e,a,t)=>{"use strict";t.d(a,{C:()=>n});var r=t(19899);t(5507);var s=t(51138),i=t(66409);let d=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...t}){return r.jsx("div",{className:(0,i.cn)(d({variant:a}),e),...t})}},21775:(e,a,t)=>{"use strict";t.d(a,{Be:()=>x,Dialog:()=>l,DialogContent:()=>f,DialogHeader:()=>u,DialogTitle:()=>h,DialogTrigger:()=>o,cN:()=>b});var r=t(19899),s=t(5507),i=t(43836),d=t(48449),n=t(66409);let l=i.fC,o=i.xz,c=i.h_;i.x8;let m=s.forwardRef(({className:e,...a},t)=>r.jsx(i.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));m.displayName=i.aV.displayName;let f=s.forwardRef(({className:e,children:a,...t},s)=>(0,r.jsxs)(c,{children:[r.jsx(m,{}),(0,r.jsxs)(i.VY,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,r.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(d.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));f.displayName=i.VY.displayName;let u=({className:e,...a})=>r.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});u.displayName="DialogHeader";let b=({className:e,...a})=>r.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});b.displayName="DialogFooter";let h=s.forwardRef(({className:e,...a},t)=>r.jsx(i.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));h.displayName=i.Dx.displayName;let x=s.forwardRef(({className:e,...a},t)=>r.jsx(i.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));x.displayName=i.dk.displayName},16711:(e,a,t)=>{"use strict";t.d(a,{I:()=>d});var r=t(19899),s=t(5507),i=t(66409);let d=s.forwardRef(({className:e,type:a,...t},s)=>r.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));d.displayName="Input"},88455:(e,a,t)=>{"use strict";t.d(a,{Label:()=>o});var r=t(19899),s=t(5507),i=t(10883),d=t(51138),n=t(66409);let l=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...a},t)=>r.jsx(i.f,{ref:t,className:(0,n.cn)(l(),e),...a}));o.displayName=i.f.displayName},66994:(e,a,t)=>{"use strict";t.d(a,{Tabs:()=>n,TabsContent:()=>c,TabsList:()=>l,TabsTrigger:()=>o});var r=t(19899),s=t(5507),i=t(29409),d=t(66409);let n=i.fC,l=s.forwardRef(({className:e,...a},t)=>r.jsx(i.aV,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));l.displayName=i.aV.displayName;let o=s.forwardRef(({className:e,...a},t)=>r.jsx(i.xz,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));o.displayName=i.xz.displayName;let c=s.forwardRef(({className:e,...a},t)=>r.jsx(i.VY,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));c.displayName=i.VY.displayName},35921:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(61278).Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},22693:(e,a,t)=>{"use strict";t.r(a),t.d(a,{createTestimonialAction:()=>m,deletePropertyAction:()=>c,deleteTestimonialAction:()=>f,deleteUserAction:()=>o,unverifyUserAction:()=>l,updateUserEmailAction:()=>u,verifyUserAction:()=>n});var r=t(3626);t(40425);var s=t(70906),i=t(8634),d=t(4535);async function n(e){let a=await (0,s.I8)();if(!a||a.user?.role!=="ADMIN")throw Error("Unauthorized");await i.db.user.update({where:{id:e},data:{verifiedAt:new Date}}),(0,d.revalidatePath)("/admin")}async function l(e){let a=await (0,s.I8)();if(!a||a.user?.role!=="ADMIN")throw Error("Unauthorized");await i.db.user.update({where:{id:e},data:{verifiedAt:null}}),(0,d.revalidatePath)("/admin")}async function o(e){let a=await (0,s.I8)();if(a?.user?.role!=="ADMIN")throw Error("Unauthorized");await i.db.user.delete({where:{id:e}}),(0,d.revalidatePath)("/admin/users")}async function c(e){let a=await (0,s.I8)();if(a?.user?.role!=="ADMIN")throw Error("Unauthorized");await i.db.property.delete({where:{id:e}}),(0,d.revalidatePath)("/admin/properties")}async function m(e){let a=await (0,s.I8)();if(a?.user?.role!=="ADMIN")throw Error("Unauthorized");let t=e.get("name"),r=e.get("role"),n=parseInt(e.get("rating")),l=e.get("content");await i.db.testimonial.create({data:{name:t,role:r,rating:n,content:l}}),(0,d.revalidatePath)("/admin/content")}async function f(e){let a=await (0,s.I8)();if(a?.user?.role!=="ADMIN")throw Error("Unauthorized");await i.db.testimonial.delete({where:{id:e}}),(0,d.revalidatePath)("/admin/content")}async function u(e){let a=await (0,s.I8)();if(a?.user?.role!=="ADMIN")throw Error("Unauthorized");let t=e.get("userId"),r=e.get("email");await i.db.user.update({where:{id:t},data:{email:r}}),(0,d.revalidatePath)("/admin/users")}(0,t(12740).h)([n,l,o,c,m,f,u]),(0,r.j)("b40a8ef9c96b1ea81590e93b264ce82cbd4d98fa",n),(0,r.j)("a0623fc521458e3e267386394fe27dff5528ac07",l),(0,r.j)("49a79cdee46258040e333c3c94d3b98ad6d84cd9",o),(0,r.j)("e12a37d541cada668b622b1bb3a5cec0480c01b2",c),(0,r.j)("6e6a8bcd006c6bc42066b1797d11a215d311dce6",m),(0,r.j)("fb1d01e335233318b8b3fc0b58d6318cc7cc2e21",f),(0,r.j)("583fb38722b03770a66cd8a097c44bec822defb9",u)},15195:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var r=t(35023),s=t(72783),i=t(9620),d=t(92588);let n=(0,t(2772).createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\app\(dashboard)\admin\users\user-management.tsx#UserManagement`);async function l(){let e=await (0,s.I8)();e?.user?.role!=="ADMIN"&&(0,d.redirect)("/dashboard");let a=await i.db.user.findMany({include:{properties:!0},orderBy:{createdAt:"desc"}});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-serif font-bold tracking-tight text-primary",children:"User Management"}),r.jsx("p",{className:"text-muted-foreground",children:"View and manage all registered users, verify agents, and update account details."})]}),r.jsx(n,{users:a})]})}},10883:(e,a,t)=>{"use strict";t.d(a,{f:()=>n});var r=t(5507),s=t(17738),i=t(19899),d=r.forwardRef((e,a)=>(0,i.jsx)(s.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));d.displayName="Label";var n=d},17738:(e,a,t)=>{"use strict";t.d(a,{WV:()=>d});var r=t(5507);t(65408);var s=t(74036),i=t(19899),d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=(0,s.Z8)(`Primitive.${a}`),d=r.forwardRef((e,r)=>{let{asChild:s,...d}=e,n=s?t:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n,{...d,ref:r})});return d.displayName=`Primitive.${a}`,{...e,[a]:d}},{})}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[916,2854,6401,9295,6914,5616,9189,1299,4824,9409,995],()=>t(29679));module.exports=r})();