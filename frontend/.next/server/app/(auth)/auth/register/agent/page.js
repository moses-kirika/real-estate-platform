(()=>{var e={};e.id=8011,e.ids=[8011],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},99873:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>o}),t(72227),t(12874),t(41163);var a=t(27105),s=t(15265),n=t(90157),i=t.n(n),d=t(44665),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(r,l);let o=["",{children:["(auth)",{children:["auth",{children:["register",{children:["agent",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72227)),"C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\(auth)\\auth\\register\\agent\\page.tsx"]}]},{}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,12874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,97418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,41163)),"C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,12874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,97418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kirika\\.gemini\\antigravity\\scratch\\real-estate-platform\\frontend\\app\\(auth)\\auth\\register\\agent\\page.tsx"],u="/(auth)/auth/register/agent/page",m={require:t,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(auth)/auth/register/agent/page",pathname:"/auth/register/agent",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},53872:(e,r,t)=>{let a={"0eb3e6ea3cea093b3dee3a697fc793b554304b77":()=>Promise.resolve().then(t.bind(t,72223)).then(e=>e.register),bcdd3597cdaf7fd331e1f2c845bd1057a22095ed:()=>Promise.resolve().then(t.bind(t,72223)).then(e=>e.authenticate),db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e:()=>Promise.resolve().then(t.bind(t,72223)).then(e=>e.signOutAction)};async function s(e,...r){return(await a[e]()).apply(null,r)}e.exports={"0eb3e6ea3cea093b3dee3a697fc793b554304b77":s.bind(null,"0eb3e6ea3cea093b3dee3a697fc793b554304b77"),bcdd3597cdaf7fd331e1f2c845bd1057a22095ed:s.bind(null,"bcdd3597cdaf7fd331e1f2c845bd1057a22095ed"),db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e:s.bind(null,"db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e")}},96179:(e,r,t)=>{Promise.resolve().then(t.bind(t,20002))},18113:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,33817,23)),Promise.resolve().then(t.t.bind(t,19323,23)),Promise.resolve().then(t.t.bind(t,52204,23)),Promise.resolve().then(t.t.bind(t,60820,23)),Promise.resolve().then(t.t.bind(t,55915,23)),Promise.resolve().then(t.t.bind(t,81611,23))},16045:()=>{},6078:(e,r,t)=>{"use strict";t.d(r,{NH:()=>s,YR:()=>n,z2:()=>i}),t(89603);var a=t(46351),s=(0,a.$)("db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e"),n=(0,a.$)("bcdd3597cdaf7fd331e1f2c845bd1057a22095ed"),i=(0,a.$)("0eb3e6ea3cea093b3dee3a697fc793b554304b77")},20002:(e,r,t)=>{"use strict";t.d(r,{default:()=>m});var a=t(19899),s=t(65408),n=t(6078),i=t(27241),d=t(16711),l=t(3184),o=t(45858),c=t(54175),u=t(76153);function m(){let[e,r]=(0,s.useFormState)(n.z2,void 0);return(0,u.useRouter)(),(0,a.jsxs)(o.Zb,{className:"w-full max-w-2xl",children:[(0,a.jsxs)(o.Ol,{children:[a.jsx(o.ll,{className:"text-2xl",children:"Agent Registration"}),a.jsx(o.SZ,{children:"Complete all fields to register as a verified real estate agent. This helps us maintain platform integrity and build trust with clients."})]}),a.jsx(o.aY,{className:"grid gap-4",children:(0,a.jsxs)("form",{action:r,className:"space-y-4",children:[a.jsx("input",{type:"hidden",name:"role",value:"AGENT"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"name",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"name",name:"name",type:"text",placeholder:"John Doe",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"phone",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"phone",name:"phone",type:"tel",placeholder:"+254 712 345 678",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"email",children:["Email Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"email",name:"email",type:"email",placeholder:"agent@example.com",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"password",children:["Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"password",name:"password",type:"password",required:!0,minLength:6,placeholder:"Minimum 6 characters"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"company",children:["Company/Agency Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"company",name:"company",type:"text",placeholder:"ABC Realty Ltd",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"licenseNumber",children:["License Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"licenseNumber",name:"licenseNumber",type:"text",placeholder:"REA/12345",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"idNumber",children:["National ID / Business Registration Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(d.I,{id:"idNumber",name:"idNumber",type:"text",placeholder:"12345678 or BN/2024/12345",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium leading-none",htmlFor:"address",children:["Physical Business Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(l.g,{id:"address",name:"address",placeholder:"Full business address including street, city, and postal code",required:!0,className:"min-h-[80px]"})]}),e&&"Success"!==e&&a.jsx("p",{className:"text-sm text-red-500",children:e}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-900",children:[a.jsx("strong",{children:"Verification Notice:"})," All agent applications are subject to verification. You'll receive confirmation within 24-48 hours after review."]})}),a.jsx(i.z,{className:"w-full",type:"submit",size:"lg",children:"Create Agent Account"})]})}),a.jsx(o.eW,{children:(0,a.jsxs)("p",{className:"text-sm text-center text-gray-500 w-full",children:["Already have an account?"," ",a.jsx(c.default,{href:"/auth/login",className:"underline font-semibold",children:"Sign in"})]})})]})}t(5507)},27241:(e,r,t)=>{"use strict";t.d(r,{d:()=>l,z:()=>o});var a=t(19899),s=t(5507),n=t(74036),i=t(51138),d=t(66409);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,...i},o)=>{let c=s?n.g7:"button";return a.jsx(c,{className:(0,d.cn)(l({variant:r,size:t,className:e})),ref:o,...i})});o.displayName="Button"},45858:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>l});var a=t(19899),s=t(5507),n=t(66409);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let o=s.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},16711:(e,r,t)=>{"use strict";t.d(r,{I:()=>i});var a=t(19899),s=t(5507),n=t(66409);let i=s.forwardRef(({className:e,type:r,...t},s)=>a.jsx("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));i.displayName="Input"},3184:(e,r,t)=>{"use strict";t.d(r,{g:()=>i});var a=t(19899),s=t(5507),n=t(66409);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));i.displayName="Textarea"},66409:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n,x:()=>i});var a=t(23332),s=t(54231);function n(...e){return(0,s.m6)((0,a.W)(e))}function i(e){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",maximumFractionDigits:0}).format(e)}},76153:(e,r,t)=>{"use strict";var a=t(81545);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},72223:(e,r,t)=>{"use strict";t.r(r),t.d(r,{authenticate:()=>m,register:()=>f,signOutAction:()=>p});var a=t(3626);t(40425);var s=t(70906),n=t(20936),i=t(53524),d=t(47344),l=t(29754),o=t(12740);let c=new i.PrismaClient,u=l.Ryn({email:l.Z_8().email(),password:l.Z_8().min(6),name:l.Z_8().min(2),phone:l.Z_8().optional(),company:l.Z_8().optional(),licenseNumber:l.Z_8().optional(),address:l.Z_8().optional(),idNumber:l.Z_8().optional()});async function m(e,r){try{await (0,s.zB)("credentials",{...Object.fromEntries(r),redirectTo:"/"})}catch(e){if(e&&"object"==typeof e&&"digest"in e&&"string"==typeof e.digest&&e.digest.includes("NEXT_REDIRECT"))throw e;if(e instanceof n.l4){if("CredentialsSignin"===e.type)return"Invalid credentials.";return"Something went wrong."}return"Internal server error."}}async function f(e,r){let t=u.safeParse(Object.fromEntries(r));if(!t.success)return"Invalid fields";let{email:a,password:s,name:n}=t.data,i=r.get("role")||"USER";try{if(await c.user.findUnique({where:{email:a}}))return"User already exists.";let e=await d.ZP.hash(s,10);return await c.user.create({data:{email:a,name:n,password:e,role:i,phone:r.get("phone")||void 0,company:r.get("company")||void 0,licenseNumber:r.get("licenseNumber")||void 0,address:r.get("address")||void 0,idNumber:r.get("idNumber")||void 0}}),"Success"}catch(e){return console.error(e),"Failed to create user."}}async function p(){await (0,s.w7)()}(0,o.h)([m,f,p]),(0,a.j)("bcdd3597cdaf7fd331e1f2c845bd1057a22095ed",m),(0,a.j)("0eb3e6ea3cea093b3dee3a697fc793b554304b77",f),(0,a.j)("db47c8c76a3a3c7d90fc08090ec69b98f34a3c1e",p)},70906:(e,r,t)=>{"use strict";t.d(r,{I8:()=>c,zB:()=>u,w7:()=>m});var a=t(20936);let s={pages:{signIn:"/auth/login"},secret:process.env.AUTH_SECRET,providers:[],callbacks:{authorized({auth:e,request:{nextUrl:r}}){let t=!!e?.user;return!r.pathname.startsWith("/dashboard")||!!t}}};var n=t(45706),i=t(29754),d=t(62917),l=t(47344),o=t(8634);let{auth:c,signIn:u,signOut:m,handlers:f}=(0,a.ZP)({...s,trustHost:!0,adapter:(0,d.N)(o.db),session:{strategy:"jwt"},callbacks:{session:async({token:e,session:r})=>(e.sub&&r.user&&(r.user.id=e.sub),e.role&&r.user&&(r.user.role=e.role),r),async jwt({token:e}){if(!e.sub)return e;let r=await o.db.user.findUnique({where:{id:e.sub}});return r&&(e.role=r.role),e}},providers:[(0,n.Z)({async authorize(e){let r=i.Ryn({email:i.Z_8().email(),password:i.Z_8().min(6)}).safeParse(e);if(r.success){let{email:e,password:t}=r.data,a=await o.db.user.findUnique({where:{email:e}});if(!a||!a.password)return null;if(await l.ZP.compare(t,a.password))return a}return null}})]})},8634:(e,r,t)=>{"use strict";t.d(r,{db:()=>s});var a=t(53524);let s=globalThis.prisma||new a.PrismaClient},72227:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(35023);let s=(0,t(2772).createProxy)(String.raw`C:\Users\kirika\.gemini\antigravity\scratch\real-estate-platform\frontend\components\auth\register-agent-form.tsx#default`);function n(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsx(s,{})})}},41163:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o,metadata:()=>l});var a=t(35023),s=t(45010),n=t.n(s),i=t(77749),d=t.n(i);t(40642);let l={title:"Rafiki Real Estate | Trusted Kenyan Property Partner",description:"Discover verified listings, expert local guidance, and your perfect sanctuary in Kenya's best neighborhoods."};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${n().variable} ${d().variable} font-sans antialiased`,children:a.jsx("main",{className:"flex-1",children:e})})})}},97418:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(1645);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},40642:()=>{}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[916,2854,6401,6914],()=>t(99873));module.exports=a})();